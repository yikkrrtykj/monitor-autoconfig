安装Docker和Docker Compose

Ubuntu
curl -fsSL https://get.docker.com -o get-docker.sh && sudo sh get-docker.sh && sudo apt update && sudo apt install -y docker-compose-plugin git && sudo usermod -aG docker $USER && mkdir -p mysql-data zabbix-server-data grafana-data prometheus-data && sudo chown -R 999:999 mysql-data && sudo chown -R 1997:1997 zabbix-server-data && sudo chown -R 472:472 grafana-data && sudo chown -R 65534:65534 prometheus-data && newgrp docker && sudo usermod -aG docker $USER

CentOS
sudo yum install -y yum-utils && sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo && sudo yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin git && sudo systemctl start docker && sudo systemctl enable docker && sudo usermod -aG docker $USER

启动服务
# 启动所有服务
docker compose up -d

# 如果提示命令不存在，可以尝试旧版本命令
# docker-compose up -d

# 查看服务状态
docker compose ps

# 查看日志
docker compose logs -f

# 检查健康状态
docker compose ps --format "table {{.Name}}\t{{.Status}}\t{{.Ports}}"
```


| 服务 | 访问地址 | 默认用户名 | 默认密码 |
|------|----------|------------|----------|
| Grafana | http://localhost:3000 | admin | root |
| Zabbix Web | http://localhost:8001 | Admin | zabbix |
| Prometheus | http://localhost:9090 | - | - |

zabbix配置未自动导入
先启动基础服务
sudo docker compose up -d mysql zabbix-server zabbix-web zabbix-agent

等待服务完全启动
sleep 120

再运行配置脚本
sudo docker compose up zabbix-config

检查连接是否正常

sudo docker exec zabbix-server zabbix_get -s zabbix-agent -k system.uname

